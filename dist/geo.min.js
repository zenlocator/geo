!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?module.exports=s():"function"==typeof define&&define.amd?define(s):t.Geo=s()}(this,function(){"use strict";var t=function(t,s,o){var r=0;switch(s){case this.distanceUnits.KILOMETERS:r=1e3*t;break;case this.distanceUnits.METERS:r=t;break;case this.distanceUnits.LEAGUES:r=5556*t;break;case this.distanceUnits.MILES:r=1609.344*t;break;case this.distanceUnits.YARDS:r=t/1.0936;break;case this.distanceUnits.FEET:r=.3048*t;break;case this.distanceUnits.INCHES:r=.0254*t;break;case this.distanceUnits.NAUTICAL_MILES:r=1852*t;break;case this.distanceUnits.SHEPPEYS:r=t/.00071428571}return this.formatDistance(r,o)},s=function(t){if("number"==typeof t)return this.coordFormats.D;if("string"==typeof t){var s=t.match(/[+-]?\d+(\.\d+)?/g);if(s){if(3===s.length)return this.coordFormats.DMS;if(2===s.length)return this.coordFormats.DM;if(1===s.length)return-1===t.indexOf("째")?this.coordFormats.D:this.coordFormats.DD}}},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")},n=Object.assign||function(t){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},i=function(t){var s={sw:0,nw:0,ne:0,se:0};if(Array.isArray(t)&&2===t.length)s.sw={lat:this.formatCoord(t[0].lat,!0),lng:this.formatCoord(t[0].lng,!1)},s.ne={lat:this.formatCoord(t[1].lat,!0),lng:this.formatCoord(t[1].lng,!1)};else{if("object"!==(void 0===t?"undefined":o(t))||2!==Object.keys(t).length)return;var r=Object.keys(t);s.sw={lat:this.formatCoord(t[r[0]].lat,!0),lng:this.formatCoord(t[r[0]].lng,!1)},s.ne={lat:this.formatCoord(t[r[1]].lat,!0),lng:this.formatCoord(t[r[1]].lng,!1)}}if(this.parseCoord(s.ne.lat)<this.parseCoord(s.sw.lat)||this.parseCoord(s.ne.lng)<this.parseCoord(s.sw.lng)){var n=[s.ne,s.sw];s.sw=n[0],s.ne=n[1]}return s.nw={lat:this.formatCoord(s.sw.lat),lng:this.formatCoord(s.ne.lng)},s.se={lat:this.formatCoord(s.ne.lat),lng:this.formatCoord(s.sw.lng)},s},e=function(t){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===t)return t;var o=[],r=void 0,n=void 0,i=void 0;if(t=this.parseCoord(t,!1),this.settings.outputCoordsFormat===this.coordFormats.D)return parseFloat(t.toFixed(this.settings.outputCoordsPrecision));if(this.settings.outputCoordsFormat===this.coordFormats.DM?r=1:this.settings.outputCoordsFormat===this.coordFormats.DMS&&(r=2),r)for(var e=0;e!==r;e++)o.push(parseInt(t,10)),n=t%1,t=60*n;return o.push(parseFloat(t.toFixed(this.settings.outputCoordsPrecision))),i=s?o[0]>0?"N":"S":o[0]>0?"E":"W",o=o.map(function(t){return Math.abs(t)}),o=3===o.length?o[0]+"째 "+o[1]+"' "+o[2]+'" '+i:2===o.length?o[0]+"째 "+o[1]+"' "+i:1===o.length?o[0]+"째 "+i:void 0},a=function(t){return t={lat:this.parseCoord(t.lat,!0),lng:this.parseCoord(t.lng,!1)},(0===t.lat&&-180===t.lng||0===t.lat&&180===t.lng)&&(t.lng=0),{lat:this.formatCoord(t.lat),lng:this.formatCoord(t.lng)}},h=function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.settings.outputDistanceUnits,o=t,r=void 0;switch(s){case this.distanceUnits.KILOMETERS:o*=.001,r=o<1?2:1;break;case this.distanceUnits.LEAGUES:o*=179986e-9,r=1;break;case this.distanceUnits.MILES:o*=621371e-9,r=o<1?2:1;break;case this.distanceUnits.YARDS:o*=1.09361,r=0;break;case this.distanceUnits.FEET:o*=3.28084,r=0;break;case this.distanceUnits.INCHES:o*=39.3701,r=0;break;case this.distanceUnits.NAUTICAL_MILES:o*=539957e-9,r=o<1?2:1;break;case this.distanceUnits.SHEPPEYS:o*=.00071428571,r=2}return this.settings.outputDistancePrecision!==this.FLEXIBLE_DISTANCE_PRECISION&&(r=this.settings.outputDistancePrecision),parseFloat(o.toFixed(r))},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length){if(1===t.length)return{lat:this.formatCoord(t[0].lat),lng:this.formatCoord(t[0].lng)};for(var s=0,o=0,r=0,n=void 0,i=void 0,e=0;e!==t.length;e++){var a=t[e];n=this.toRad(this.parseCoord(a.lat)),i=this.toRad(this.parseCoord(a.lng)),s+=Math.cos(n)*Math.cos(i),o+=Math.cos(n)*Math.sin(i),r+=Math.sin(n)}var h=t.length;s/=h,o/=h,r/=h,i=Math.atan2(o,s);var d=Math.sqrt(s*s+o*o);return n=Math.atan2(r,d),this.formatCoords({lat:180*n/Math.PI,lng:180*i/Math.PI})}},c=function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=void 0,r=this.orderByDistance(t,s);return r.length&&(o=r[0]),o},l=function(t,s,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.RADIUS_EQUILATERAL,n=this.parseCoord(t.lat,!0),i=this.parseCoord(t.lng,!1),e=Number(s)/r,a=this.toRad(Number(o)),h=this.toRad(Number(n)),d=this.toRad(Number(i)),c=Math.asin(Math.sin(h)*Math.cos(e)+Math.cos(h)*Math.sin(e)*Math.cos(a)),l=d+Math.atan2(Math.sin(a)*Math.sin(e)*Math.cos(h),Math.cos(e)-Math.sin(h)*Math.sin(c));return l=(l+3*Math.PI)%(2*Math.PI)-Math.PI,this.formatCoords({lat:this.toDeg(c),lng:this.toDeg(l)})},u=function(t,s){var o=function(t){return t*(Math.PI/180)},r=this.parseCoord(t.lat,!1),n=this.parseCoord(t.lng,!1),i=this.parseCoord(s.lat,!1),e=this.parseCoord(s.lng,!1),a=o(i-r),h=o(e-n),d=Math.sin(a/2)*Math.sin(a/2)+Math.cos(o(r))*Math.cos(o(i))*Math.sin(h/2)*Math.sin(h/2);return this.formatDistance(12742e3*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)))},f=function(t,s){return t={lat:this.parseCoord(t.lat),lng:this.parseCoord(t.lng)},s=this.parseBounds(s),t.lat>=s.nw.lat&&t.lat<=s.ne.lat&&t.lng>=s.sw.lng&&t.lng<=s.nw.lng},g=function(t,s,o){var r=this.settings.outputDistanceUnits;this.settings.outputDistanceUnits=this.distanceUnits.METER;var n=this.getDistance(t,s)<=o;return this.settings.outputDistanceUnits=r,n},p=function(t){return(t=this.parseCoord(t))>=-90&&t<=90},C=function(t){return(t=this.parseCoord(t))>=-180&&t<=180},E=function(t,s){var r=this,n=function(t){return"[object Array]"===Object.prototype.toString.call(t)};if(function(t){return"object"===(void 0===t?"undefined":o(t))&&t.constructor===Object}(s)||n(s)){var i=n(s)?[]:{},e=[],a=[],h=function(s,o){var n={};o&&(n.key=o),n.value=s,n.distance=r.getDistance(t,s),e.push(n),a.push(n.distance)};if(n(s)){var d=!0,c=!1,l=void 0;try{for(var u,f=s[Symbol.iterator]();!(d=(u=f.next()).done);d=!0){h(u.value)}}catch(t){c=!0,l=t}finally{try{!d&&f.return&&f.return()}finally{if(c)throw l}}}else for(var g in s)h(s[g],g);a.sort(function(t,s){return t-s});for(var p in a)!function(t){var s=e.filter(function(s){if(s.distance===a[t])return s});for(var o in s){var r=s[o];r.hasOwnProperty("key")?i[r.key]=r.value:i.push(r.value)}}(p);return i}},m=function(t){return t=n({},this.formatBounds(t)),t&&(t={sw:{lat:this.parseCoord(t.sw.lat),lng:this.parseCoord(t.sw.lng)},nw:{lat:this.parseCoord(t.nw.lat),lng:this.parseCoord(t.nw.lng)},ne:{lat:this.parseCoord(t.ne.lat),lng:this.parseCoord(t.ne.lng)},se:{lat:this.parseCoord(t.se.lat),lng:this.parseCoord(t.se.lng)}}),t},M=function(t){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this.detectCoordFormat(t),r=[],n=void 0;if(o)if(o===this.coordFormats.D)n=parseFloat(t);else{if("string"==typeof t&&(t=t.toLowerCase(),r=t.match(/[+-]?\d+(\.\d+)?/g).map(function(t){return parseFloat(t)})),(1===r.length&&o!==this.coordFormats.DD||2===r.length&&o!==this.coordFormats.DM||3===r.length&&o!==this.coordFormats.DMS||r.length<1||r.length>3)&&(r=[]),r.length){var i=0,e=!0,a=!1,h=void 0;try{for(var d,c=r.reverse()[Symbol.iterator]();!(e=(d=c.next()).done);e=!0)n=d.value,n+=i,i=n/60}catch(t){a=!0,h=t}finally{try{!e&&c.return&&c.return()}finally{if(a)throw h}}}!n||"string"!=typeof t||-1===t.indexOf("s")&&-1===t.indexOf("w")||(n*=-1)}return n&&s&&(n=parseFloat(n.toFixed(this.settings.outputCoordsPrecision))),n},v=Object.freeze({convertDistance:t,detectCoordFormat:s,formatBounds:i,formatCoord:e,formatCoords:a,formatDistance:h,getCenter:d,getClosest:c,getDestinationPoint:l,getDistance:u,isPointInBounds:f,isPointInCircle:g,isValidLat:p,isValidLng:C,orderByDistance:E,parseBounds:m,parseCoord:M}),S=function t(s){r(this,t),this.distanceUnits={KILOMETERS:"KILOMETERS",METERS:"METERS",LEAGUES:"LEAGUES",MILES:"MILES",YARDS:"YARDS",FEET:"FEET",INCHES:"INCHES",NAUTICAL_MILES:"NAUTICAL_MILES",SHEPPEYS:"SHEPPEYS"},this.FLEXIBLE_DISTANCE_PRECISION=-1,this.coordFormats={DMS:"dms",DM:"dm",DD:"dd",D:"d"},this.settings=n({outputDistanceUnits:this.distanceUnits.METER,outputDistancePrecision:this.FLEXIBLE_DISTANCE_PRECISION,outputCoordsFormat:this.coordFormats.DD,outputCoordsPrecision:6},s),this.toRad=function(t){return t*Math.PI/180},this.toDeg=function(t){return 180*t/Math.PI},this.RADIUS_MEAN=6371e3,this.RADIUS_EQUILATERAL=6378100,this.RADIUS_POLAR=6356800};return S.prototype=n({},S.prototype,v),S});
//# sourceMappingURL=dist/geo.min.map